<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wear OS Installation - Windsurfer Tracker</title>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            max-width: 700px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        h1 {
            color: #4285f4;
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #4285f4;
            padding-bottom: 8px;
            margin-top: 30px;
        }
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #0066cc;
            text-decoration: none;
        }
        .back-link:hover {
            text-decoration: underline;
        }
        .step {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .step-number {
            display: inline-block;
            background: #4285f4;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            margin-right: 10px;
        }
        .step h3 {
            display: inline;
            vertical-align: middle;
        }
        .step p {
            margin: 15px 0 0 40px;
        }
        .step ul {
            margin-left: 40px;
        }
        .config-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .config-table th, .config-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .config-table th {
            background: #f0f0f0;
            font-weight: 600;
        }
        .config-table code {
            background: #e8e8e8;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.95em;
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .info {
            background: #e8f4fd;
            border-left: 4px solid #0066cc;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .btn {
            display: inline-block;
            background: #4285f4;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            margin: 10px 0;
        }
        .btn:hover {
            background: #3367d6;
        }
        .btn-green {
            background: #34a853;
        }
        .btn-green:hover {
            background: #2d9249;
        }
        code {
            background: #e8e8e8;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.95em;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">&larr; Back to Installation Options</a>

    <h1>Wear OS Installation</h1>
    <p>Install the Windsurfer Tracker app on your Wear OS smartwatch (Pixel Watch, Galaxy Watch 4+, etc.).</p>

    <div class="warning">
        <strong>Event &amp; Password Required:</strong> You will need to know which <strong>event</strong> you're tracking and the <strong>password</strong> for that event. Ask the race organisers for these details.
    </div>

    <div class="info">
        <strong>Note:</strong> Since Wear OS watches don't have a web browser, you'll need to use a helper app on your Android phone to install the APK to your watch.
    </div>

    <h2>What You Need</h2>
    <ul>
        <li>A Wear OS smartwatch (Pixel Watch, Galaxy Watch 4 or newer, etc.)</li>
        <li>An Android phone paired with your watch</li>
        <li>The "Wear Installer" app (free from Play Store)</li>
    </ul>

    <h2>Installation Steps</h2>

    <div class="step">
        <span class="step-number">1</span>
        <h3>Install Wear Installer on Your Phone</h3>
        <p>On your Android phone, install the <strong>"Wear Installer"</strong> app from the Google Play Store:</p>
        <p style="margin-left: 40px;">
            <a href="https://play.google.com/store/apps/details?id=org.freepoc.wearinstaller" class="btn" target="_blank">Get Wear Installer</a>
        </p>
        <p><em>Alternative: You can also use "Bugjaeger" if you prefer.</em></p>
    </div>

    <div class="step">
        <span class="step-number">2</span>
        <h3>Download the Wear OS Tracker APK</h3>
        <p>On your phone, download the Windsurfer Tracker APK for Wear OS:</p>
        <p style="margin-left: 40px;">
            <a href="https://wstracker.org/app/WearOS-tracker.apk" class="btn btn-green">Download Wear OS APK</a>
        </p>
        <p>Save this file - you'll need it in the next step.</p>
    </div>

    <div class="step">
        <span class="step-number">3</span>
        <h3>Enable Developer Options on Your Watch</h3>
        <p>On your watch:</p>
        <ul>
            <li>Go to <strong>Settings &gt; System &gt; About</strong></li>
            <li>Tap <strong>Build number</strong> 7 times until you see "Developer mode enabled"</li>
            <li>Go back to <strong>Settings &gt; Developer options</strong></li>
            <li>Enable <strong>ADB debugging</strong></li>
            <li>Enable <strong>Debug over WiFi</strong> (if available)</li>
        </ul>
    </div>

    <div class="step">
        <span class="step-number">4</span>
        <h3>Install APK to Watch</h3>
        <p>Open <strong>Wear Installer</strong> on your phone:</p>
        <ul>
            <li>It should detect your paired watch automatically</li>
            <li>Tap <strong>"Install APK"</strong> or the + button</li>
            <li>Select the downloaded <code>WearOS-tracker.apk</code> file</li>
            <li>Follow the prompts to install</li>
            <li>Your watch may ask you to confirm the installation</li>
        </ul>
    </div>

    <div class="step">
        <span class="step-number">5</span>
        <h3>Open the App on Your Watch</h3>
        <p>Find the <strong>Windsurfer Tracker</strong> app in your watch's app list and open it.</p>
    </div>

    <h2>Configuration</h2>

    <div class="step">
        <span class="step-number">6</span>
        <h3>Configure Settings</h3>
        <p>Tap the <strong>Settings</strong> (gear) icon on the watch app and configure:</p>

        <table class="config-table">
            <tr>
                <th>Setting</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Event</td>
                <td>Tap to select your event from the list</td>
            </tr>
            <tr>
                <td>Your Name</td>
                <td>Your name or sail number (e.g., <code>John</code> or <code>S42</code>)</td>
            </tr>
            <tr>
                <td>Role</td>
                <td>Select <code>Sailor</code> (or Support/Spectator)</td>
            </tr>
            <tr>
                <td>Password</td>
                <td>Enter the event password from race organisers</td>
            </tr>
        </table>

        <p>Tap <strong>Save</strong> when done.</p>
    </div>

    <div class="step">
        <span class="step-number">7</span>
        <h3>Grant Permissions</h3>
        <p>When you start tracking, the watch will ask for location permission. Tap <strong>Allow</strong>.</p>
    </div>

    <div class="step">
        <span class="step-number">8</span>
        <h3>Start Tracking</h3>
        <p>Tap the <strong>Start</strong> button to begin tracking. The display will show:</p>
        <ul>
            <li>Your current speed in knots</li>
            <li>Connection status (green checkmarks for ACKs)</li>
            <li>Red <strong>ASSIST</strong> button for emergencies</li>
        </ul>
    </div>

    <h2>Testing Your Setup</h2>

    <div class="success">
        <strong>Verify It's Working:</strong>
        <ol>
            <li>Start tracking on your watch</li>
            <li>Open <a href="https://wstracker.org" target="_blank">https://wstracker.org</a> on your phone or computer</li>
            <li>Select your event from the list</li>
            <li>You should see your position appear on the map</li>
            <li>The watch should show green checkmarks as ACKs are received</li>
        </ol>
    </div>

    <h2>Tips for Race Day</h2>

    <div class="info">
        <ul style="margin: 0; padding-left: 20px;">
            <li><strong>Battery:</strong> The app is optimised for battery life, but consider starting with a full charge</li>
            <li><strong>1Hz Mode:</strong> Enable in settings for higher resolution tracking (uses more battery)</li>
            <li><strong>Keep it simple:</strong> The watch app shows essential info - speed and connection status</li>
            <li><strong>Request Assistance:</strong> Tap the red ASSIST button if you need help on the water</li>
        </ul>
    </div>

    <h2>Troubleshooting</h2>

    <div class="step">
        <h3>Watch not detected by Wear Installer</h3>
        <p style="margin-left: 0;">Make sure:</p>
        <ul style="margin-left: 0;">
            <li>ADB debugging is enabled on the watch</li>
            <li>Watch and phone are on the same WiFi network</li>
            <li>Try "Debug over Bluetooth" if WiFi doesn't work</li>
        </ul>
    </div>

    <div class="step">
        <h3>No ACKs received (no green checkmarks)</h3>
        <p style="margin-left: 0;">Check:</p>
        <ul style="margin-left: 0;">
            <li>You have selected the correct event</li>
            <li>The event password is correct</li>
            <li>Watch has internet connection (via phone or WiFi)</li>
        </ul>
    </div>

    <div class="step">
        <h3>Position not showing on map</h3>
        <p style="margin-left: 0;">Ensure:</p>
        <ul style="margin-left: 0;">
            <li>Location permission was granted</li>
            <li>GPS is enabled on the watch</li>
            <li>You're outdoors with a clear view of the sky</li>
        </ul>
    </div>

    <p style="margin-top: 40px; text-align: center;">
        <a href="index.html" class="back-link">&larr; Back to Installation Options</a>
    </p>
</body>
</html>
